<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<a href="#m1">+mao1</a>
<a href="#m2">+mao2</a>
<a href="" onclick="test('#n1',2)">+#n1</a>
<a href="#m3">+mao3</a>
<a href="https://www.baidu.com/">百度</a>
</body>
<script>
    var test  = function(name,value)
    {
        var currentUrl = window.location.href.split('#')[0];
        if (/\?/g.test(currentUrl)) {
            if (/name=[-\w]{4,25}/g.test(currentUrl)) {
                currentUrl = currentUrl.replace(/name=[-\w]{4,25}/g, name + "=" + value);
            } else {
                currentUrl += "&" + name + "=" + value;
            }
        } else {
            currentUrl += "?" + name + "=" + value;
        }
        if (window.location.href.split('#')[1]) {
            window.location.href = currentUrl + '#' + window.location.href.split('#')[1];
        } else {
            window.location.href = currentUrl;
        }
//        window.location.href += name;
    }
</script>
</html>